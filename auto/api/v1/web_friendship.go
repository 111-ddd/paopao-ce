// Code generated by go-mir. DO NOT EDIT.

package v1

import (
	"net/http"

	"github.com/alimy/mir/v3"
	"github.com/gin-gonic/gin"
	"github.com/rocboss/paopao-ce/internal/model/web"
)

type WebFriendship interface {
	// Chain provide handlers chain for gin
	Chain() gin.HandlersChain

	GetContacts(*web.GetContactsReq) (*web.GetContactsResp, mir.Error)
	DeleteFriend() mir.Error
	RejectFriend() mir.Error
	AddFriend() mir.Error
	RequestingFriend() mir.Error

	mustEmbedUnimplementedWebFriendshipServant()
}

type WebFriendshipBinding interface {
	BindGetContacts(*gin.Context) (*web.GetContactsReq, mir.Error)

	mustEmbedUnimplementedWebFriendshipBinding()
}

type WebFriendshipRender interface {
	RenderGetContacts(*gin.Context, *web.GetContactsResp, mir.Error)
	RenderDeleteFriend(*gin.Context, mir.Error)
	RenderRejectFriend(*gin.Context, mir.Error)
	RenderAddFriend(*gin.Context, mir.Error)
	RenderRequestingFriend(*gin.Context, mir.Error)

	mustEmbedUnimplementedWebFriendshipRender()
}

// RegisterWebFriendshipServant register WebFriendship servant to gin
func RegisterWebFriendshipServant(e *gin.Engine, s WebFriendship, b WebFriendshipBinding, r WebFriendshipRender) {
	router := e.Group("v1")
	// use chain for router
	middlewares := s.Chain()
	router.Use(middlewares...)

	// register routes info to router
	router.Handle("GET", "/user/contacts", func(c *gin.Context) {
		select {
		case <-c.Request.Context().Done():
			return
		default:
		}

		req, err := b.BindGetContacts(c)
		if err != nil {
			r.RenderGetContacts(c, nil, err)
			return
		}
		resp, err := s.GetContacts(req)
		r.RenderGetContacts(c, resp, err)
	})

	router.Handle("POST", "/friend/delete", func(c *gin.Context) {
		select {
		case <-c.Request.Context().Done():
			return
		default:
		}

		r.RenderDeleteFriend(c, s.DeleteFriend())
	})

	router.Handle("POST", "/friend/reject", func(c *gin.Context) {
		select {
		case <-c.Request.Context().Done():
			return
		default:
		}

		r.RenderRejectFriend(c, s.RejectFriend())
	})

	router.Handle("POST", "/friend/add", func(c *gin.Context) {
		select {
		case <-c.Request.Context().Done():
			return
		default:
		}

		r.RenderAddFriend(c, s.AddFriend())
	})

	router.Handle("POST", "/friend/requesting", func(c *gin.Context) {
		select {
		case <-c.Request.Context().Done():
			return
		default:
		}

		r.RenderRequestingFriend(c, s.RequestingFriend())
	})

}

// UnimplementedWebFriendshipServant can be embedded to have forward compatible implementations.
type UnimplementedWebFriendshipServant struct {
}

func (UnimplementedWebFriendshipServant) Chain() gin.HandlersChain {
	return nil
}

func (UnimplementedWebFriendshipServant) GetContacts(req *web.GetContactsReq) (*web.GetContactsResp, mir.Error) {
	return nil, mir.Errorln(http.StatusNotImplemented, http.StatusText(http.StatusNotImplemented))
}

func (UnimplementedWebFriendshipServant) DeleteFriend() mir.Error {
	return mir.Errorln(http.StatusNotImplemented, http.StatusText(http.StatusNotImplemented))
}

func (UnimplementedWebFriendshipServant) RejectFriend() mir.Error {
	return mir.Errorln(http.StatusNotImplemented, http.StatusText(http.StatusNotImplemented))
}

func (UnimplementedWebFriendshipServant) AddFriend() mir.Error {
	return mir.Errorln(http.StatusNotImplemented, http.StatusText(http.StatusNotImplemented))
}

func (UnimplementedWebFriendshipServant) RequestingFriend() mir.Error {
	return mir.Errorln(http.StatusNotImplemented, http.StatusText(http.StatusNotImplemented))
}

func (UnimplementedWebFriendshipServant) mustEmbedUnimplementedWebFriendshipServant() {}

// UnimplementedWebFriendshipRender can be embedded to have forward compatible implementations.
type UnimplementedWebFriendshipRender struct {
	RenderAny func(*gin.Context, any, mir.Error)
}

func (r *UnimplementedWebFriendshipRender) RenderGetContacts(c *gin.Context, data *web.GetContactsResp, err mir.Error) {
	r.RenderAny(c, data, err)
}

func (r *UnimplementedWebFriendshipRender) RenderDeleteFriend(c *gin.Context, err mir.Error) {
	r.RenderAny(c, nil, err)
}

func (r *UnimplementedWebFriendshipRender) RenderRejectFriend(c *gin.Context, err mir.Error) {
	r.RenderAny(c, nil, err)
}

func (r *UnimplementedWebFriendshipRender) RenderAddFriend(c *gin.Context, err mir.Error) {
	r.RenderAny(c, nil, err)
}

func (r *UnimplementedWebFriendshipRender) RenderRequestingFriend(c *gin.Context, err mir.Error) {
	r.RenderAny(c, nil, err)
}

func (r *UnimplementedWebFriendshipRender) mustEmbedUnimplementedWebFriendshipRender() {}

// UnimplementedWebFriendshipBinding can be embedded to have forward compatible implementations.
type UnimplementedWebFriendshipBinding struct {
	BindAny func(*gin.Context, any) mir.Error
}

func (b *UnimplementedWebFriendshipBinding) BindGetContacts(c *gin.Context) (*web.GetContactsReq, mir.Error) {
	obj := new(web.GetContactsReq)
	err := b.BindAny(c, obj)
	return obj, err
}

func (b *UnimplementedWebFriendshipBinding) mustEmbedUnimplementedWebFriendshipBinding() {}
